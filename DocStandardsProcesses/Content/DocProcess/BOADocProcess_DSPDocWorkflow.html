<table>
<tbody>
<tr class="odd">
<td>title: DSP Documentation Workflow</td>
</tr>
<tr class="even">
<td>keywords: BOADocProcess</td>
</tr>
<tr class="odd">
<td>sidebar: BOADocProcess_sidebar</td>
</tr>
<tr class="even">
<td>summar: "The Documentation team uses Jira, Github, Git Bash and Flare when</td>
</tr>
<tr class="odd">
<td>updating online help content. This section describes that process, which</td>
</tr>
<tr class="even">
<td>is driven by the Documentation Status field in Jira."</td>
</tr>
<tr class="odd">
<td>permalink: BOADocProcess_DSPDocWorkflow.html</td>
</tr>
<tr class="even">
<td>folder: BOADocProcess</td>
</tr>
</tbody>
</table>
<h2 id="the-documentation-status-field">The Documentation Status Field</h2>
<p>Used by the Documentation team only, the Documentation Status field defines where the content for that JIRA ticket is in the workflow.</p>
<p>{% include important.html content=â€œ[GitHub Initial Setup][BOADocProcess_GitInitSetup.html] contains the initial configuration and setup steps for Git and GitHub. These steps must be performed by a new employee.â€ %}</p>
<p>The Documentation Status field contains the following values: - <strong>Not Started</strong> â€” Default value. No work has been done on the ticket except for initial assignment in the Writer Assigned field and an estimate in the Documentation Hours Remaining field. - <strong>In Process</strong> â€” Technical writer researches and writes draft content and adds it to Flare. - <strong>Peer Review</strong> â€” Technical Writer reviews content added to help. - <strong>Review</strong> â€”PM/Dev is reviewing content. - <strong>Approved</strong> â€” Content has been approved by PM. - <strong>Doc Done</strong> â€” Doc is complete.</p>
<p>{% include tip.html content=â€œA checklist of the steps in this process is included in the appendix, [Checklist for DSP Documentation Workflow][BOADocProcess_CLDSPWorkflow].â€ %}</p>
<h2 id="no-documentation-required">No Documentation Required</h2>
<p>If the ticket does not change or require new documentation, add a comment on the ticket stating that documentation is not required. Update the <strong>Documentation Status</strong> field to <strong>Doc Done</strong>.</p>
<h2 id="assign-ticket-and-set-documentation-status">Assign Ticket and Set Documentation Status</h2>
<p>The <strong>Writer Assigned</strong> and <strong>Documentation Status</strong> fields must be complete for all tickets requiring documentation in the DSP project.</p>
<p>Technical Writers review tickets when they are added to the board and assign the tickets as appropriate, either to themselves or other team members.</p>
<p>To assign a writer:</p>
<ol type="1">
<li>Click the <strong>Edit</strong> button on the ticket.</li>
<li>Select the writer in the <strong>Writer Assigned</strong> list box.</li>
<li>Set the status in the <strong>Documentation Status</strong> field.</li>
<li>Click <strong>Save</strong>.</li>
</ol>
<h2 id="not-started-pm-enters-a-ticket-in-aha-or-devpmothers-add-tickets-manually-in-jira">Not Started: PM Enters a Ticket in Aha! or Dev/PM/Others Add Tickets Manually in Jira</h2>
<p>Technical Writers track all documentation content in JIRA, including: - New features and updates - All Bug issues - Customer Support issues - Other tickets (tasks, defects) that describe changes to behavior or the UI that were previously released.</p>
<p>{% include tip.html content=â€œTechnical Writers enter issues related to how the online help works, and unrelated to content (as in, typos, broken links, Map ID corrections) on the DocTeamToDos board in JIRA.â€ %}</p>
<p>The process begins when a ticket is moved to the board for the current release.</p>
<p>Either: - PM enters the initial ticket in Aha! A Jira ticket is automatically created, or - PM/Dev/QE enter the ticket manually in Jira, or - JIRA users may also enter documentation-only issues with an Issue Type of <strong>Document</strong> on the DSP board.</p>
<h2 id="draftcontent">In Process: Technical Writer Drafts content in Flare</h2>
<p>Technical Writers begin work on tickets as soon as possible after the ticket has made it past User Story review and completes the draft content in Flare.</p>
<p>When writing content, the TW communicates with PM/Dev as needed to ask questions, get clarification etc. The TW must provide information on the Jira ticket about where to find the updates in the Help system. It may be necessary to generate a Google document to show the updates. Both PM and the Peer Reviewer rely on this information, so it is vital that it is included.</p>
<p>To add content to the help:</p>
<ol type="1">
<li><a href="#synchronize-your-release-branch-with-the-backofficeassoc-github-repo">Synchronize your release branch with the BackOfficeAssoc GitHub Repo</a></li>
<li><a href="#create-a-branch-for-your-updates-based-on-the-release-branch">Create a branch for your updates based on the release branch</a></li>
<li><a href="#commitlocally">Commit updates locally and push them to the BackOfficeAssoc GitHub Repo</a></li>
<li><a href="#open-a-pull-request-for-a-peer-reviewer-to-review-your-work">Open a pull request for a peer reviewer to review your work</a></li>
</ol>
<p>{% include important.html content=â€œAlways use Git Bash. Do not use the <strong>GitHub Desktop</strong> application.â€ %}</p>
<h3 id="synchronize-your-release-branch-with-the-backofficeassoc-github-repo">Synchronize your release branch with the BackOfficeAssoc GitHub Repo</h3>
<p>{% include warning.html content=â€œYou <strong>MUST</strong> perform these steps each time you checkout a branch to ensure you are working in the latest copy of the release branch.â€ %}</p>
<ol type="1">
<li>In Windows-Explorer, right-click on your dsp-docs local folder and select <strong>Git Bash Here</strong>. {% include image.html file=â€œgitBashHere.pngâ€ alt=â€œRight-click menu with Git Bash Here optionâ€ caption=â€œRight-click menu with Git Bash Here optionâ€ %}</li>
<li>Switch to the release branch you are working in now, for example, develop_67.
<div class="alert alert-info" data-markdown="span" role="alert">
<i class="fa fa-info-circle"></i> <b>Note:</b> The git command to switch to the release branch is <code class="highlighter-rouge">git checkout <release branch name></code>.
</div></li>
<li>Enter the git command, <code>git pull origin <release branch name></code> {% include tip.html content=â€œIf at this point you wish to see a list of branches that are available in your local repo, enter the command <code>git branch</code>. All of the available local branches are listed.â€ %}</li>
</ol>
<h3 id="create-a-branch-for-your-updates-based-on-the-release-branch">Create a branch for your updates based on the release branch</h3>
<ol type="1">
<li>Navigate to the release branch in Git Bash if you are not already in it.</li>
<li>Enter the command <code>git checkout -b \<new branch name\></code> {% include note.html content=â€œName the branch after the JIRA ticket number if applicable. Use the naming convention DSP-NNNN. If changes are not related to a Jira ticket, give the branch a meaningful name, such as â€˜releasenotesupdatesâ€™.â€ %}</li>
<li>Open the project in Flare and make your updates and your updates are saved on the correct branch.</li>
<li>When you finish your updates, save your changes and <strong>close Flare</strong>.</li>
</ol>
<h3 id="commitlocally">Commit updates locally and push them to the BackOfficeAssoc GitHub Repo dsp-docs</h3>
<ol type="1">
<li>Return to Git Bash or open a new session.</li>
<li>Navigate to your repo, and make sure you are in the correct branch. It is in parenthesis after your prompt.</li>
<li>Enter the git command <code>git status</code> to see all of the changes you have made. {% include note.html content=â€œIf you do not see your changes, you may have forgotten to save or you are in the wrong branch.â€ %}</li>
<li>Stage the updates for commit by entering the git command <code>git add .</code> {% include note.html content=â€œInclude the period in the command.â€ %} {% include tip.html content=â€œComments change from red to green after you stage them.â€ %}</li>
<li>Commit staged updates by entering the command <code>git commit -m "<commit message that informs everyone what you have done>"</code> {% include note.html content=â€œDo not use special characters in message.â€ %}</li>
<li>Push your changes to the remote by entering the command <code>git push origin <new branch name></code> {% include tip.html content=â€œNow your new branch is visible on GitHub and available for others to access for review.â€ %}</li>
</ol>
<h3 id="openPR">Open a pull request for a peer reviewer to review your work</h3>
<ol type="1">
<li>Go to GitHub.com and click the <strong>Compare and pull request</strong> button next to your recently pushed branch.</li>
<li>Make sure the <strong>base</strong> is the current release branch you are working in and <strong>compare</strong> is your new branch name. {% include image.html file=â€œgithubPR.pngâ€ alt=â€œGitHub PR, base and compare branchesâ€ caption=â€œGitHub PR, base and compare branchesâ€ %}</li>
<li>Add notes and a reviewer to the pull request and click the <strong>Create pull request</strong> button. {% include note.html content=â€œMessage the reviewers in Slack with link to PR.â€ %}</li>
<li>Add the PR URL to the Jira ticket.</li>
<li>Update the <strong>Documentation Status</strong> on the JIRA ticket to <strong>Peer Review</strong>.</li>
</ol>
<h2 id="peerreview">Peer Review: Peer Reviews Content in Flare</h2>
<ol type="1">
<li>In Windows-Explorer, right-click on your dsp-docs local file and select <strong>Git Bash Here</strong>. {% include image.html file=â€œgitBashHere.pngâ€ alt=â€œRight-click menu with Git Bash Here optionâ€ caption=â€œRight-click menu with Git Bash Here optionâ€ %}</li>
<li>Switch to the release branch you are working in now, for example, develop_67. {% include note.html content=â€œThe git command for switching branches is <code>git checkout <branch name></code>â€ %}</li>
<li>Synchronize your release branch by entering the git command <code>git pull origin <release branch name></code> {% include note.html content=â€œIf at this point you wish to see a list of branches that are available in your local repo, enter the command <code>git branch</code>. All of the available <em>local</em> branches are listed.â€ %}</li>
<li>As a reviewer, you are notified by email when you are assigned a PR and you can click a link to view the pull request in GitHub. Otherwise, the writer may include a link when they message you in Slack.</li>
<li>To pull the new branch to your local repo so you can view the changes in Flare, in Git Bash navigate to your local dsp-docs repo and enter the git command <code>git fetch origin <new branch name></code> Â Ex. <code>git fetch origin DSP-2345</code> {% include tip.html content=â€œThe new branch name is in the PR.â€ %} {% include image.html file=â€œprBranchName.pngâ€ alt=â€œWhere to find PR branch name in GitHubâ€ caption=â€œWhere to find PR branch name in GitHubâ€ %}</li>
<li>Switch to the new branch locally by entering the git command <code>git checkout <new branch name></code> {% include tip.html content=â€œThe name in the parenthesis after the command prompt updates to the new branch name, indicating you can now open the files in Flare and see the changes.â€ %} {% include important.html content=â€œIf at this point you receive a message like, <code>error: Your local changes to the following files would be overwritten by checkout: <list of files>.</code> This means you have made changes to the files on this branch since last checkout. If you do not want to save them, before you can checkout a new branch, you need to reset your directory with the following command: <code>git reset --hard</code>. <strong>All changes noted above will be lost, so be sure before you enter the command that you do not want to keep the updates.</strong>â€ %}</li>
<li>Once the appropriate branch has been checked out, open the <strong>BackOffice Associates Solutions.flprj</strong> project file from your local dsp-docs repo. {% include tip.html content=â€œCheck for broken links and bookmarks as well. On the <strong>Analysis</strong> tab, select <strong>Broken Links</strong> from the <strong>Project Analysis</strong> drop-down. Then select the <strong>Broken Bookmarks</strong> option from the drop-down. It is good practice to check for broken links after Help is fetched and after any changes are made before the commit to GitHub.â€ %}</li>
<li>Review the content for clarity.</li>
<li>Test the steps.</li>
<li>Check the content for the standard styles and content organization, if applicable.</li>
<li>Check grammar and spelling.</li>
<li>Test links.</li>
<li>View the Build log to check for build warnings and errors. Refer to the [Build Help Targets][BOADocProcess_BuildHelpTargets] section for moreinformation.</li>
<li>If a new page has been added to the product, confirm that a Map ID was added to the alias file. See [Add Context-sensitive Help Links][BOADocProcess_UpdateOnlineHelp.html#addcslinks] for more information.</li>
</ol>
<p>{% include tip.html content=â€œThe Peer Review can either pass or fail.â€ %}</p>
<h3 id="peer-review-passes-peer-reviewer-has-made-no-updates-to-content-during-review.">Peer Review Passes: Peer Reviewer has made no updates to content during review.</h3>
<h4 id="merge-the-updates-and-delete-the-branch-in-github">Merge the updates and delete the branch in GitHub</h4>
<ol type="1">
<li>If everything looks good, close Flare.</li>
<li>Make sure the branch you are merging into is the correct release branch. If it is not, click the <strong>Edit</strong> button and select the correct release branch. {% include image.html file=â€œeditBranch.pngâ€ alt=â€œHow to edit branch in GitHubâ€ caption=â€œHow to edit branch in GitHubâ€ %}</li>
<li>Click the <strong>Add your review</strong> button, select <strong>Approve</strong>, then click <strong>Submit review</strong>. {% include image.html file=â€œaddYourReview.pngâ€ alt=â€œAdd your review in GitHubâ€ caption=â€œAdd your review in GitHubâ€ %}</li>
<li>Click the <strong>Merge pull request</strong> button. {% include important.html content=â€œIf this button is not active, resolve the conflicts by following the steps in <a href="#resolving-metadata-merge-conflicts-in-github">Resolving metadata merge conflicts in GitHub.</a>â€ %}</li>
<li>Click the <strong>Confirm merge</strong> button.</li>
<li>Click the <strong>Delete branch</strong> button to remove the branch from GitHub.</li>
</ol>
<h4 id="delete-the-branch-in-your-local-repo">Delete the branch in your local repo</h4>
<ol type="1">
<li>Open Git Bash and navigate to your dsp repo.</li>
<li>Switch out of the branch you want to delete by entering the git command <code>git checkout <release branch name></code> {% include warning.html content=â€œMake sure you have merged the changes before you enter the following command or your changes will be lost.â€ %}</li>
<li>Delete the branch by entering the git command <code>git branch -D <new branch name></code></li>
</ol>
<p>{% include tip.html content=â€œNext, refer to <a href="#review-pm-reviews-and-approves-documentation">Review: PM Reviews and Approves Documentation</a>.â€ %}</p>
<h3 id="peer-review-fails-edits-are-necessary-in-review">Peer Review Fails: Edits are necessary in review</h3>
<ol type="1">
<li>Make updates in Flare on the writerâ€™s branch that you pulled from GitHub.</li>
<li>Stage the updates for commit by entering the git command <code>git add .</code> {% include note.html content=â€œInclude the period in the command.â€ %}</li>
<li>Commit the updates to your local repo by entering the git command <code>git commit -m '<put a message that describes your updates>'</code>. {% include tip.html content=â€œDo not include special characters in commit message.â€ %}</li>
<li>Push the updates to the dsp-docs remote repo by entering the git command <code>git push origin <branch name></code></li>
<li>Go to the PR in GitHub to ensure that your commit was added to the PR.</li>
<li>Make sure the branch you are merging into is the correct release branch. If it is not, click the <strong>Edit</strong> button and select the correct release branch. {% include image.html file=â€œeditBranch.pngâ€ alt=â€œHow to edit branch in GitHubâ€ caption=â€œHow to edit branch in GitHubâ€ %}</li>
<li>Click the <strong>Add your review</strong> button, select <strong>Approve</strong>, then click <strong>Submit review</strong>.</li>
<li>Click the <strong>Merge pull request</strong> button. {% include important.html content=â€œIf this button is not active, resolve the conflicts by following the steps in <a href="#resolving-metadata-merge-conflicts-in-github">Resolving metadata merge conflicts in GitHub.</a>â€ %}</li>
<li>Click the <strong>Confirm merge</strong> button.</li>
<li>Click the <strong>Delete branch</strong> button to remove the branch from GitHub.com. {% include tip.html content=â€œNext, refer to <a href="#review-pm-reviews-and-approves-documentation">Review: PM Reviews and Approves Documentation</a>.â€ %}</li>
</ol>
<h3 id="resolving-metadata-merge-conflicts-in-github">Resolving metadata merge conflicts in GitHub</h3>
<p>Sometimes Flare adds metadata/XML markup updates to topics in the XML Editor that are not displayed in the Text Editor. These â€œbehind the scenesâ€ code updates can cause merge conflicts if another team member has altered the same topic. This situation is likely to occur when updating the Whatâ€™s New topic because it is updated with a release note for each JIRA ticket that is written during a release.</p>
<ol type="1">
<li>When you go to the PR page a note from GitHub that tells you when there are merge conflicts. {% include image.html file=â€œmergeConflicts.pngâ€ alt=â€œMerge conflicts message in GitHubâ€ caption=â€œMerge conflicts message in GitHubâ€ %}</li>
<li>After peer reviewing the updates in Flare, click the <strong>Resolve conflicts</strong> button.</li>
<li>Delete from the equal signs <code>========</code> down to the <code>>>>>></code> including the feature branch name. {% include warning.html content=â€œBe careful to leave one of the XML tags to avoid XML errors in Flare.â€ %} {% include image.html file=â€œavoidXMLErrors.pngâ€ alt=â€œWhat to delete when solving merge conflicts in GitHubâ€ caption=â€œWhat to delete when solving merge conflicts in GitHubâ€ %}</li>
<li>Delete the <code><<<<<<</code> and your new branch name.</li>
<li>Click the <strong>Mark as resolved</strong> button when it displays. Then a green checkmark is displayed to indicate the conflict is resolved.</li>
<li>Click the green <strong>Commit merge</strong> button to merge the updates.</li>
</ol>
<h3 id="keep-your-repo-clean-of-merged-branches">Keep your repo clean of merged branches</h3>
<p>After you receive notification that your branch has been merged into the main feature branch, it is best to delete your branch from your local repo. Otherwise you end up with a lot of unused branches in your repos.</p>
<p>{% include warning.html content=â€œOnce a branch is deleted it is gone, so make sure all updates have been merged before you perform the delete.â€ %}</p>
<p>To delete branches on your local repo, open Git Bash and enter the git command <code>git branch -D <name of branch></code></p>
<p>{% include important.html content=â€œThis wonâ€™t work if you are on the branch you are attempting to delete. Checkout a different branch, then complete the command.â€ %}</p>
<h2 id="review-pm-reviews-and-approves-documentation">Review: PM Reviews and Approves Documentation</h2>
<p>There are two sites for the hosted help, one for dev and one for prod.</p>
<p>Content is pushed to the dev site for testing when itâ€™s added to any `develop_xxx` branch. So pushing to `develop_70` will add content to the dev site for online help for version 7.0.</p>
<p>For prod, the build tools are watching the `develop` branch. Thatâ€™s where the latest version of the documentation lives. In order to ensure that only the intended pushes to `develop` go to prod and to the right version, the build tools are only watching and pushing updates that have been merged.</p>
<p>So when branch `develop_70` is merged into `develop`, Jenkins checks for the commit message, checks that `develop_70` has been merged, and pushes to version 7.0 in prod.</p>
<p>Documentation is built on a Jenkins node server and takes a bit of time. From the moment a commit is made to when it becomes available is roughly 10 minutes, give or take. This is for both dev and prod.</p>
<p>{% include tip.html content=â€œYou may also need to clear your cache or open an incognito window to see updates.â€ %}</p>
<p>When the Author gets an email that the content has been merged, she updates the Documentation Status field to Review, and @ mentions PM on the ticket.</p>
<p>PM confirms that new and updated features are described completely and correctly from a userâ€™s perspective.</p>
<p>Either:</p>
<ul>
<li>PM approves the content by setting the Documentation Status field to Approved.</li>
</ul>
<p>Or</p>
<ul>
<li>PM notes on the Jira ticket what needs to be updated, and the process begins again at the In Process step.</li>
</ul>
<h3 id="doc-done-change-status">Doc Done: Change status</h3>
<p>Once approved, the Author moves the <strong>Documentation</strong> Status to <strong>DocDone</strong>. Open a PR to merge the changes to the production site. Refer to Update the Production Site when Documentation is Approved.</p>
<h3 id="update-the-help-on-the-dev-and-prod-sites">Update the Help on the Dev and Prod Sites</h3>
<p>Each release has a branch in the dsp-docs repo with the naming convention develop_nnn, where nnn is the release number (develop_701, for example). When a pull request is merged to that branch, a Technical Writer logs in to Jenkins and builds the helpn.</p>
<p>The URL for the full version is:</p>
<blockquote>
<p>https://dsphelpdev.boaweb.com/nnn/general/Home.htm</p>
</blockquote>
<p>The URL for the Solex version is:</p>
<blockquote>
<p>https://dsphelpdev.boaweb.com/nnn/solex/Home.htm</p>
</blockquote>
<p>The URL for the prod full help is:</p>
<blockquote>
<p>https://dsphelp.boaweb.com/nnn/general/Home.htm</p>
</blockquote>
<p>For Solex:</p>
<blockquote>
<p>https://dsphelp.boaweb.com/nnn/solex/Home.htm</p>
</blockquote>
<p>{% include links.html %}</p>
<p>To update the help on the sites: 1. Log in to Jenkins. 2. In the Name column, click DSPDocs. 3. Click the Schedule a Build icon for either DSPDocDev or DSPDocProd. 4. Enter the version number in the VERSION field. 5. Click Build. The build status displays in the left column under Build History.</p>
